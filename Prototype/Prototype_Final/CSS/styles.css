:root{--bg:#F7F1E8;--card:#fff;--text:#1f2430;--muted:#606776;--border:#e6e6ea;--brand:#6E56EF;--brand-2:#2C2F3A;--ring:rgba(110,86,239,.35);--insight:#EDEBFE;--inclusive:#E7FFF4;--construct:#FFF5E6;--fast:#EAF6FF;--mentor:#FFEAF2}
*{box-sizing:border-box}
body{margin:0;font-family:Inter,sans-serif;background:var(--bg);color:var(--text)}
.app{display:grid;grid-template-columns:260px 1fr 340px;gap:28px;padding:20px;max-width:1400px;margin:auto}
.sidebar{background:var(--brand-2);color:#fff;border-radius:16px;padding:16px;display:flex;flex-direction:column;gap:16px}
.brand{display:flex;align-items:center;gap:10px;padding:10px 12px;background:rgba(255,255,255,.04);border-radius:12px}
.brand-logo{width:34px;height:34px;border-radius:10px;background:linear-gradient(135deg,#4f46e5,#06b6d4);display:grid;place-items:center;font-weight:700}
.filter{background:rgba(255,255,255,.05);border-radius:12px;padding:10px}
.menu-btn{background:transparent;border:0;color:#fff;width:100%;text-align:left;padding:10px;border-radius:10px;font-weight:600}
.menu-btn.active,.menu-btn:hover{background:rgba(255,255,255,.08)}
.game-list{display:flex;flex-direction:column;gap:8px}
.game-item{display:flex;align-items:center;gap:10px;padding:8px;border-radius:10px;cursor:pointer}
.game-item:hover{background:rgba(255,255,255,.06)}
.game-avatar{width:28px;height:28px;border-radius:50%;background:#2b2f3a}
.badge-dot{margin-left:auto;background:#ffd166;border-radius:20px;padding:2px 7px;font-weight:700;font-size:11px;color:#000}
.create-channel{background:#111319;color:#fff;border:1px solid rgba(255,255,255,.1);border-radius:12px;padding:12px;cursor:pointer}

.main{min-width:0}
.topbar{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:12px;display:flex;align-items:center;gap:12px;margin-bottom:16px}
.search{flex:1;display:flex;align-items:center;gap:10px;background:#fff;border:1px solid var(--border);border-radius:12px;padding:8px 12px}
.search input{border:0;outline:0;width:100%;font-size:14px}
.icon-btn{width:38px;height:38px;border:1px solid var(--border);border-radius:12px;background:#fff;display:grid;place-items:center;cursor:pointer}
.primary-btn{background:var(--brand);color:#fff;border:0;border-radius:12px;padding:10px 14px;font-weight:700;cursor:pointer;box-shadow:0 4px 12px var(--ring)}

.card{background:var(--card);border:1px solid var(--border);border-radius:16px;overflow:hidden;margin-bottom:18px}
.post-head{display:flex;align-items:center;gap:12px;padding:14px}
.avatar{width:42px;height:42px;border-radius:50%;overflow:hidden}
.avatar img{width:100%;height:100%;object-fit:cover}
.hero{display:block;width:100%;aspect-ratio:16/9;border-radius:14px;overflow:hidden;margin:10px 0}
.hero img{width:100%;height:100%;object-fit:cover}
.card-body{padding:0 18px 18px}
.post-title{font-size:20px;margin:8px 0}
.post-meta{color:var(--muted);font-size:14px}
.actions{display:flex;gap:10px;margin-top:12px}
.chip{padding:8px 12px;border-radius:999px;background:#f5f3ff;border:1px solid var(--border);cursor:pointer}
.chip.alt{background:#e8fff7}

.badge{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;font-weight:700;font-size:12px;border:1px solid var(--border)}
.badge::before{content:"";width:8px;height:8px;border-radius:999px;display:inline-block}
.badge--insightful{background:var(--insight)}
.badge--insightful::before{background:#7c6df6}
.badge--inclusive{background:var(--inclusive)}
.badge--inclusive::before{background:#00b37e}
.badge--constructive{background:var(--construct)}
.badge--constructive::before{background:#ff8a33}
.badge--fast{background:var(--fast)}
.badge--fast::before{background:#2aa3ff}
.badge--mentor{background:var(--mentor)}
.badge--mentor::before{background:#ff5a8a}
.badge-text{font-size:12px;color:#888}

.comments{margin-top:14px;display:flex;flex-direction:column;gap:12px}
.comment{display:flex;gap:10px}
.bubble{background:#fafafa;border:1px solid var(--border);padding:12px;border-radius:12px;flex:1}

.rail{display:flex;flex-direction:column;gap:16px}
.panel{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:14px}
.user-item{display:flex;align-items:center;gap:10px;padding:8px;border-radius:12px}
.user-item:hover{background:#f8f9ff}
.panel-head{display:flex;align-items:center;gap:10px;margin-bottom:8px}
.link-btn{border:1px solid var(--border);background:#fff;padding:8px 10px;border-radius:10px;font-size:13px;cursor:pointer}
.community{display:flex;align-items:center;gap:12px;padding:10px;border-radius:12px}
.community:hover{background:#f8f9ff}
.facepile{display:flex}
.facepile img{width:24px;height:24px;border-radius:50%;border:2px solid #fff;margin-left:-6px}
.count{margin-left:auto;background:#EDEBFE;border:1px solid #e1dfff;padding:3px 8px;border-radius:999px;font-weight:700;font-size:12px}
.arrow{margin-left:8px;width:28px;height:28px;border:1px solid var(--border);border-radius:8px;display:grid;place-items:center;background:#fff}

#reviewersList{display:flex;flex-direction:column;gap:10px}
.reviewer-row{display:flex;align-items:center;gap:10px;border:1px solid var(--border);background:#fff;border-radius:12px;padding:10px}
.reviewer-row .reviewer-meta{display:flex;align-items:center;gap:10px;min-width:0}
.reviewer-row .avatar{width:36px;height:36px;border-radius:50%;background:#f2f2f2;overflow:hidden}
.reviewer-row .info{display:flex;flex-direction:column}
.reviewer-row .name{font-weight:700;font-size:14px}
.reviewer-row .role{font-size:12px;color:var(--muted)}
.reviewer-row .reviewer-sum{display:flex;gap:6px;margin-left:auto}
.badge-tally{display:inline-flex;align-items:center;justify-content:center;min-width:28px;height:28px;padding:0 8px;border-radius:999px;border:1px solid var(--border);font-weight:700;font-size:12px;background:#fafafa}
.badge-tally[data-type="insightful"]{background:var(--insight)}
.badge-tally[data-type="inclusive"]{background:var(--inclusive)}
.badge-tally[data-type="constructive"]{background:var(--construct)}
.badge-tally[data-type="fast"]{background:var(--fast)}
.badge-tally[data-type="mentor"]{background:var(--mentor)}
.row-actions{display:flex;gap:8px}
.btn--give-badge{background:var(--brand);color:#fff;border:0}
.btn--give-badge:focus{outline:2px solid var(--ring)}

.badge-legend{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:8px}
.badge-legend li{display:flex;align-items:center;gap:10px;font-size:13px;color:var(--muted)}

.badge-details-body{display:grid;grid-template-columns:1fr;gap:12px;padding:14px}
#badgeSummary{display:flex;flex-wrap:wrap;gap:8px}
#badgeHistory{display:flex;flex-direction:column;gap:10px;max-height:48vh;overflow:auto}
.badge-history-item{display:flex;align-items:center;justify-content:space-between;border:1px solid var(--border);border-radius:12px;padding:10px;background:#fff}
.badge-history-item .left{display:flex;align-items:center;gap:10px}
.badge-history-item .text{display:flex;flex-direction:column}
.badge-history-item .who{font-weight:700;font-size:14px}
.badge-history-item .why{font-size:12px;color:var(--muted)}
.badge-history-item .right{display:flex;align-items:center;gap:10px}
.badge-history-item .when{font-size:12px;color:var(--muted)}
.badge-history-item .contextLink{font-size:12px}

.badge-picker {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}

.badge-option {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 12px;
  border: 1px dashed var(--border);
  border-radius: 10px;
  background: #fff;
  cursor: pointer;
  transition: all 0.2s ease;
}

.badge-option input {
  display: none;
}

.badge-option .badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 10px;
  border-radius: 999px;
  font-weight: 700;
  font-size: 12px;
  border: 1px solid var(--border);
  line-height: 1;
  pointer-events: none;
}

.badge-option input:checked + .badge {
  border-color: var(--brand);
  box-shadow: 0 0 0 2px var(--ring);
  transform: scale(1.02);
}


@media(max-width:1200px){
  .app{grid-template-columns:240px 1fr}
  .rail{display:none}
}
@media(max-width:900px){
  .app{grid-template-columns:1fr;gap:16px;padding:12px}
  .sidebar{position:fixed;inset:0 auto 0 0;width:82%;max-width:300px;transform:translateX(-100%);transition:.3s;z-index:60}
  .sidebar.open{transform:translateX(0)}
  .sidebar-overlay{position:fixed;inset:0;background:rgba(0,0,0,.4);display:none;z-index:50}
  .sidebar-overlay.show{display:block}
}

.modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;z-index:100}
.modal.show{display:flex}
.modal-backdrop{position:absolute;inset:0;background:rgba(0,0,0,.45);backdrop-filter:saturate(120%) blur(2px)}
.modal-card{position:relative;width:min(1100px,92vw);max-height:88vh;background:#fff;border:1px solid var(--border);border-radius:16px;box-shadow:0 24px 60px rgba(0,0,0,.25);display:flex;flex-direction:column;overflow:hidden}
.modal-top{display:flex;align-items:center;gap:12px;padding:12px 14px;border-bottom:1px solid var(--border);background:#fafafa}
.modal-title{font-weight:700}
.modal-actions{margin-left:auto;display:flex;gap:8px}
.btn{border:1px solid var(--border);background:#fff;border-radius:10px;padding:8px 12px;font-weight:600;cursor:pointer}
.board-wrap{padding:14px}
#boardCanvas{position:relative;overflow:auto;border:1px solid var(--border);border-radius:12px;background:#0b0d14}
#boardImage{display:block;max-width:100%;height:auto}
#pinLayer{position:absolute;inset:0;pointer-events:auto}
.pin{position:absolute;width:22px;height:22px;border-radius:999px;background:#6E56EF;transform:translate(-50%,-100%);display:grid;place-items:center;color:#fff;font-size:12px;font-weight:800;cursor:grab;user-select:none}
.pin:active{cursor:grabbing}
.pin .label{position:absolute;top:-8px;left:16px;transform:translateY(-100%);background:#111827;color:#fff;padding:6px 8px;border-radius:8px;max-width:240px;font-size:12px;line-height:1.25;display:none}
.pin.show .label{display:block}
.hint{font-size:12px;color:#6b7280;margin-top:10px}
.dark .modal-card{background:#151822;border-color:#232634}
.dark #boardCanvas{border-color:#232634;background:#0b0f16}
.dark .btn{background:#151822;border-color:#232634;color:#e6e8ef}
.hidden{display:none}

.form{padding:14px}
.form-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.field label{display:block;font-size:12px;color:#6b7280;margin-bottom:6px}
.field input,.field textarea{width:100%;border:1px solid var(--border);border-radius:10px;padding:10px;background:#fff;font:inherit}
.field.full{grid-column:1/-1}
.form-actions{display:flex;justify-content:flex-end;gap:8px;margin-top:8px}
.comment-form{display:flex;gap:8px;margin-top:10px}
.comment-form input{flex:1;border:1px solid var(--border);border-radius:10px;padding:10px}
.comment-form button{border:1px solid var(--border);background:#fff;border-radius:10px;padding:10px 12px;font-weight:600;cursor:pointer}
.dark .field input,.dark .field textarea,.dark .comment-form input,.dark .comment-form button{background:#151822;border-color:#232634;color:#e6e8ef}

.draw-toolbar{display:flex;gap:8px;align-items:center;margin:0 0 10px}
.draw-toolbar [data-active="1"]{outline:2px solid var(--brand)}
#drawCanvas{position:absolute;left:0;top:0;pointer-events:auto}
.dark .draw-toolbar [data-active="1"]{outline:2px solid #8b7dff}

#reviewersList{display:flex;flex-direction:column;gap:12px}
.reviewer-row{
  display:grid;
  grid-template-columns:auto 1fr auto;
  align-items:center;
  gap:12px;
  border:1px solid var(--border);
  background:#fff;
  border-radius:14px;
  padding:10px 12px;
}
.reviewer-row .reviewer-meta{display:flex;align-items:center;gap:10px;min-width:0}
.reviewer-row .avatar{width:36px;height:36px;border-radius:50%;object-fit:cover}
.reviewer-row .info{display:flex;flex-direction:column;min-width:0}
.reviewer-row .name{font-weight:700;font-size:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.reviewer-row .role{font-size:12px;color:var(--muted)}
.reviewer-row .reviewer-sum{display:flex;gap:6px;margin-left:auto}
.badge-tally{
  min-width:26px;height:26px;padding:0 6px;
  display:inline-flex;align-items:center;justify-content:center;
  border-radius:999px;border:1px solid var(--border);
  font-weight:700;font-size:12px;line-height:1;background:#fafafa
}
.row-actions{display:flex;gap:8px;margin-left:8px}
.row-actions .btn{padding:6px 10px;border-radius:10px}
.row-actions .link-btn{padding:6px 10px}

.comment .bubble .row{display:flex;align-items:center;gap:8px;margin-bottom:6px}
.badge-inline-btn{
  font-size:12px;font-weight:700;
  border:1px solid var(--border);background:#fff;
  padding:4px 8px;border-radius:999px;cursor:pointer
}
.badge-inline-btn:hover{box-shadow:0 0 0 3px var(--ring)}

.badge{gap:6px;padding:5px 9px;font-size:12px}

.reviewer-row{
  display:grid;
  grid-template-columns:auto 1fr auto; 
  align-items:center;
}

.reviewer-row .reviewer-meta{min-width:0}
.reviewer-row img.avatar{width:36px;height:36px;border-radius:50%;object-fit:cover;display:block}
.reviewer-row .name{font-weight:700;font-size:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.reviewer-row .role{font-size:12px;color:var(--muted);max-width:160px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}


.reviewer-row .reviewer-sum{
  margin-left:0;              
  justify-self:end;           
  display:flex;
  gap:6px;
  flex-wrap:nowrap;
}
.reviewer-row .reviewer-sum .badge-tally{flex:0 0 auto}


.reviewer-row .row-actions{
  justify-self:end;
  display:flex;
  gap:8px;
  min-width:max-content;     
}
.reviewer-row .row-actions .btn{padding:6px 10px;border-radius:10px}
.reviewer-row .row-actions .btn--give-badge{
  background:var(--brand) !important;
  color:#fff !important;
  border:0;
}


.badge-tally{
  min-width:24px;
  height:24px;
  padding:0 6px;
  font-size:12px;
  line-height:1;
}

.reviewer-row{
  display:flex !important;                
  align-items:center;
  gap:12px;
  padding:10px 12px;
  border:1px solid var(--border);
  background:#fff;
  border-radius:14px;
}

.reviewer-row .reviewer-meta{
  display:flex;
  align-items:center;
  gap:10px;
  min-width:220px;                        
  flex:1 1 auto;                          
}
.reviewer-row img.avatar{
  width:36px;height:36px;border-radius:50%;object-fit:cover;display:block;
}
.reviewer-row .info{min-width:0}
.reviewer-row .name{
  font-weight:700;font-size:14px;
  white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
}
.reviewer-row .role{
  font-size:12px;color:var(--muted);
  white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
}


.reviewer-row .reviewer-sum{
  display:flex;gap:6px;flex:0 0 auto;margin-left:12px;
}
.badge-tally{min-width:24px;height:24px;padding:0 6px;font-size:12px;line-height:1}


.reviewer-row .row-actions{
  display:flex;gap:8px;flex:0 0 auto;margin-left:12px;
  min-width:max-content;
}
.reviewer-row .row-actions .btn--give-badge{
  background:var(--brand)!important;color:#fff!important;border:0;
  padding:6px 10px;border-radius:10px;
}
.reviewer-row .row-actions .link-btn{padding:6px 10px;border-radius:10px}

.reviewer-row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:14px;
  padding:10px 14px;
  border:1px solid var(--border);
  border-radius:14px;
  background:#fff;
}

.reviewer-row .reviewer-meta{
  display:flex;
  align-items:center;
  gap:10px;
  flex:1;
  min-width:0;
}
.reviewer-row img.avatar{
  width:40px;
  height:40px;
  border-radius:50%;
  object-fit:cover;
}
.reviewer-row .info{
  display:flex;
  flex-direction:column;
  min-width:0;
}
.reviewer-row .name{
  font-weight:700;
  font-size:15px;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
.reviewer-row .role{
  font-size:12px;
  color:var(--muted);
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

.reviewer-row .reviewer-sum{
  display:flex;
  gap:6px;
  flex:0 0 auto;
  margin-left:12px;
}
.badge-tally{
  min-width:26px;
  height:26px;
  display:flex;
  align-items:center;
  justify-content:center;
  border-radius:999px;
  border:1px solid var(--border);
  font-weight:700;
  font-size:12px;
  background:#fafafa;
}


.reviewer-row .row-actions{
  display:flex;
  flex-direction:column;
  align-items:flex-end;
  gap:6px;
  flex:0 0 auto;
}
.reviewer-row .btn--give-badge{
  background:var(--brand);
  color:#fff;
  border:0;
  padding:6px 12px;
  border-radius:10px;
  font-size:13px;
  font-weight:600;
  white-space:nowrap;
}
.reviewer-row .btn--view-badges{
  background:#fff;
  border:1px solid var(--border);
  border-radius:10px;
  padding:5px 10px;
  font-size:12px;
  color:var(--muted);
  cursor:pointer;
}
.reviewer-row .btn--view-badges:hover{
  color:var(--brand);
  border-color:var(--brand);
}

@media(max-width:900px){
  .reviewer-row{flex-direction:column;align-items:flex-start;}
  .reviewer-row .row-actions{flex-direction:row;width:100%;justify-content:space-between;}
}


.channels-container{
  background:#2f3136;
  padding:14px;
  border-radius:10px;
  color:#fff;
  font-family:Inter,sans-serif;
  width:100%;           
  box-sizing:border-box;
  overflow:hidden;      
}

.channels-container h3{
  margin:0 0 10px 0;
  font-size:15px;
  font-weight:600;
}

.channels-box{
  background:#36393f;
  border-radius:10px;
  padding:10px;
  width:100%;
  max-width:100%;
  box-sizing:border-box;
  overflow:hidden;
}

.channel-list{
  list-style:none;
  margin:0;
  padding:0;
}

.channel-list li{
  display:flex;
  align-items:center;
  gap:10px;
  background:#40444b;
  margin-bottom:8px;
  padding:8px 10px;
  border-radius:8px;
  transition:background .2s ease;
  width:100%;
  min-width:0;          
  box-sizing:border-box;
}

.channel-list li:hover{ background:#4f545c }

.channel-list img{
  width:28px;
  height:28px;
  border-radius:50%;
  object-fit:cover;
  flex:0 0 28px;        
}

.channel-name{
  flex:1 1 auto;
  min-width:0;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
  font-size:14px;
}

.notif{
  background:#facc15;
  color:#000;
  font-size:12px;
  font-weight:700;
  border-radius:999px;
  min-width:20px;
  height:20px;
  line-height:20px;
  text-align:center;
  padding:0 6px;
  flex:0 0 auto;        
}


.brand {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 10px;
}

.brand-img {
  width: 160px; 
  height: auto;
  display: block;
}
